<Window x:Class="RCL.Win.AddBusinessWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Add Business" Height="520" Width="640"
        Style="{DynamicResource DialogWindowStyle}"
        ResizeMode="NoResize">
  <Border Style="{DynamicResource CardBorder}">
    <Grid Margin="8">
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
        <RowDefinition Height="Auto"/>
      </Grid.RowDefinitions>

      <TextBlock Text="Add Business" FontWeight="Bold" FontSize="{DynamicResource AppFontSize}" Margin="0,0,0,6"/>

      <StackPanel Grid.Row="1" Orientation="Vertical">
        <Grid Margin="0,6">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>
          <TextBlock Text="Business name" VerticalAlignment="Center" Grid.Column="0" />
          <TextBox x:Name="TxtBusinessName" Grid.Column="1" MinWidth="300" />
        </Grid>

        <Grid Margin="0,6">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>
          <TextBlock Text="Reward strategy" VerticalAlignment="Center" Grid.Column="0" />
          <ComboBox x:Name="CmbStrategy" Grid.Column="1" MinWidth="300">
            <ComboBoxItem Tag="Fixed">Fixed visits (after N visits)</ComboBoxItem>
            <ComboBoxItem Tag="Spend">Spend threshold (currency)</ComboBoxItem>
          </ComboBox>
        </Grid>

        <Grid Margin="0,6">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="100"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>
          <TextBlock Text="Visits required (Fixed)" VerticalAlignment="Center" Grid.Column="0" />
          <TextBox x:Name="TxtVisitsRequired" Grid.Column="1" />
          <TextBlock Grid.Column="2" Text="Used when Fixed strategy selected" Foreground="{DynamicResource MutedBrush}" VerticalAlignment="Center" Margin="12,0,0,0"/>
        </Grid>

        <Grid Margin="0,6">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="100"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>
          <TextBlock Text="Spend threshold" VerticalAlignment="Center" Grid.Column="0" />
          <TextBox x:Name="TxtSpendThreshold" Grid.Column="1" />
          <TextBlock Grid.Column="2" Text="Used when Spend threshold strategy selected" Foreground="{DynamicResource MutedBrush}" VerticalAlignment="Center" Margin="12,0,0,0"/>
        </Grid>

        <TextBlock Text="Tiered rules (one per line: visits:reward description)" Margin="0,12,0,6"/>
        <TextBox x:Name="TxtTiered" Height="120" AcceptsReturn="True"/>
        <TextBlock x:Name="ValidationText" Foreground="Red" Visibility="Collapsed" Margin="0,6,0,0"/>
      </StackPanel>

      <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,12,0,0">
        <Button x:Name="BtnCancel" Content="Cancel" Style="{DynamicResource SecondaryButton}" Width="110" Click="BtnCancel_Click"/>
        <Button x:Name="BtnSave" Content="Save" Style="{DynamicResource PrimaryButton}" Width="110" Margin="8,0,0,0" Click="BtnSave_Click"/>
      </StackPanel>
    </Grid>
  </Border>
</Window>

